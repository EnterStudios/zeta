@(resetForm: Form[(String, String)], mailToken: String)(implicit request: RequestHeader, messages: Messages, env: securesocial.core.RuntimeEnvironment)
@import helper._
@import securesocial.core.IdentityProvider
@implicitFieldConstructor = @{
    FieldConstructor(securesocial.views.html.inputFieldConstructor.f)
}

@views.html.webpage.WebpageGeneralLayout(Messages("securesocial.password.title"), None) {

    <div class="panel panel-default">
        <div class="panel-heading">
            <h2>@Messages("securesocial.password.title")</h2>
        </div>
        <div class="panel-body">

            <ul class="list-group">
            @request.flash.get("error").map { msg =>
                <li class="list-group-item list-group-item-danger">
                    @Messages(msg)
                </li>
            }
            </ul>

            <form action="@env.routes.handleResetPasswordUrl(mailToken)" autocomplete="off" method="POST">
                @CSRF.formField

                <div class="form-group">
                @helper.inputPassword(
                    resetForm("password.password1"),
                    '_label -> Messages("securesocial.signup.password1"),
                    'class -> "form-control",
                    '_showConstraints -> false
                )
                </div>

                <div class="form-group">
                @helper.inputPassword(
                    resetForm("password.password2"),
                    '_label -> Messages("securesocial.signup.password2"),
                    '_error -> resetForm.error("password"),
                    'class -> "form-control",
                    '_showConstraints -> false
                )
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary">@Messages("securesocial.password.reset")</button>
                </div>
            </form>
        </div>
    </div>
}