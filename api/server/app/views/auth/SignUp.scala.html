@(signUpForm: Form[securesocial.controllers.RegistrationInfo], mailToken: String)(implicit request: RequestHeader, messages: Messages, env: securesocial.core.RuntimeEnvironment)
@import securesocial.core.providers.UsernamePasswordProvider
@import securesocial.core.IdentityProvider
@import helper._
@implicitFieldConstructor = @{
    FieldConstructor(securesocial.views.html.inputFieldConstructor.f)
}

@views.html.webpage.WebpageGeneralLayout(Messages("securesocial.signup.title"), None) {

    <div class="panel panel-default">

        <div class="panel-heading">
            <h2>@Messages("securesocial.signup.title")</h2>
        </div>

        <div class="panel-body">

            <ul class="list-group">
            @request.flash.get("error").map { msg =>
                <li class="list-group-item list-group-item-danger">@msg</li>
            }
            </ul>

            <form action="@env.routes.handleSignUpUrl(mailToken)" autocomplete= "off" method="POST">
                @CSRF.formField

                <div class="form-group">
                @if(UsernamePasswordProvider.withUserNameSupport) {
                    @helper.inputText(
                        signUpForm("userName"),
                        '_label -> Messages("securesocial.signup.username"),
                        'class -> "form-control",
                        '_showConstraints -> false
                    )
                }
                </div>

                <div class="form-group">
                @helper.inputText(
                    signUpForm("firstName"),
                    '_label -> Messages("securesocial.signup.firstName"),
                    'class -> "form-control",
                    '_showConstraints -> false
                )
                </div>

                <div class="form-group">
                @helper.inputText(
                    signUpForm("lastName"),
                    '_label -> Messages("securesocial.signup.lastName"),
                    'class -> "form-control",
                    '_showConstraints -> false
                )
                </div>

                <div class="form-group">
                @helper.inputPassword(
                    signUpForm("password.password1"),
                    '_label -> Messages("securesocial.signup.password1"),
                    'class -> "form-control",
                    '_showConstraints -> false
                )
                </div>

                <div class="form-group">
                @helper.inputPassword(
                    signUpForm("password.password2"),
                    '_label -> Messages("securesocial.signup.password2"),
                    '_error -> signUpForm.error("password"),
                    'class -> "form-control",
                    '_showConstraints -> false
                )
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-primary">@Messages("securesocial.signup.createAccount")</button>
                    <a class="btn btn-danger" href="@env.routes.loginPageUrl">@Messages("securesocial.signup.cancel")</a>
                </div>
            </form>

        </div>

    </div>
}